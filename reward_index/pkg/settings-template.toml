
# log settings for the application (RUST_LOG format). Default below
# 
# log = "reward_index=debug"

# Interval for checking verifier bucket (in seconds). Default below (15 minutes)
#
# interval = "15 minutes"

# Mode to operate the indexer in.
# "iot", "mobile", or "mobile_escrowed"
#
# [escrow] section is required when operating in "mobile_escrowed" mode.
mode = "iot"

# Operation Fund key is required when mode = "iot"
#
operation_fund_key = "iot-operation-fund-key"

# Unallocated reward entity key is always required
#
unallocated_reward_entity_key = "unallocated-reward-entity-key"

# Escrow related settings
# (Required when running with mode="mobile_escrowed")
[escrow]

# Number of days to use for escrow period when an address does not define a
# custom escrow duration using the `escrow_durations` table.
#
default_days = 30

# How often to run the task that cleans up the `escrow_rewards` table.
#
cleanup_interval = "1 day"

# When cleaning the `escrow_rewards` table, how long a reward has been
# "unlocked" before being removed. This settings helps keep data around for
# debugging purposes.
#
history_duration = "2 weeks"

#
[database]

# Postgres Connection Information
host = "127.0.0.1"
port = 5432
username = "postgres"
database = "reward_index"

auth_type = "iam"
# IAM Role to assume to generate db auth token

iam_role_arn = "arn::iam"
iam_role_session_name = "role-session-name"
iam_duration_seconds = 900
iam_region = "us-west-2"

# Max connections to the database.
max_connections = 10

[verifier]
# Input bucket details for verified reward share data

# Name of bucket to access verified data. Required
#
bucket = "mainnet-verified-bucket"

# Region for bucket. Defaults to below
#
# region = "us-west-2"

# Optional URL for AWS api endpoint. Inferred from aws config settings or aws
# IAM context by default
#
# endpoint = "https://aws-s3-bucket.aws.com"


[metrics]

# Endpoint for metrics. Default below
#
# endpoint = "127.0.0.1:19000"
